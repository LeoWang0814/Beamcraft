{
  "id": "A04",
  "difficulty": "advanced",
  "title": "Sync Lockstep",
  "subtitle": "R and G must satisfy on exactly the same tick.",
  "objective": "Set Delay to align R with mixer-generated G under syncWindow=0.",
  "hint": "R needs delay=2 at (3,0) to align with G tick.",
  "designerNote": "Wrong intuition: delay=1 seems close but still fails sync. Key constraint: exact same tick.",
  "buildPads": [
    { "x": 3, "y": 0 }
  ],
  "grid": { "w": 12, "h": 12 },
  "mode": "D8",
  "fixed": [
    {
      "id": "src-r",
      "type": "SOURCE",
      "x": 1,
      "y": 0,
      "dir": 0,
      "color": 1,
      "intensity": 100,
      "locked": true
    },
    {
      "id": "src-g-a",
      "type": "SOURCE",
      "x": 1,
      "y": 5,
      "dir": 0,
      "color": 2,
      "intensity": 100,
      "locked": true
    },
    {
      "id": "src-g-b",
      "type": "SOURCE",
      "x": 5,
      "y": 1,
      "dir": 6,
      "color": 2,
      "intensity": 100,
      "locked": true
    },
    {
      "id": "mix-g",
      "type": "MIXER",
      "x": 5,
      "y": 5,
      "dir": 0,
      "mixerRequireDistinct": true,
      "locked": true
    },
    {
      "id": "recv-r",
      "type": "RECV_R",
      "x": 6,
      "y": 0,
      "dir": 0,
      "threshold": 100,
      "locked": true
    },
    {
      "id": "recv-g",
      "type": "RECV_G",
      "x": 8,
      "y": 5,
      "dir": 0,
      "threshold": 200,
      "locked": true
    },
    {
      "id": "recv-b",
      "type": "RECV_B",
      "x": 10,
      "y": 10,
      "dir": 0,
      "threshold": 0,
      "locked": true
    }
  ],
  "walls": [],
  "inventory": [
    { "type": "MIRROR", "count": 0 },
    { "type": "PRISM", "count": 0 },
    { "type": "FILTER_R", "count": 0 },
    { "type": "FILTER_G", "count": 0 },
    { "type": "FILTER_B", "count": 0 },
    { "type": "MIXER", "count": 0 },
    { "type": "SPLITTER", "count": 0 },
    { "type": "DELAY", "count": 1 },
    { "type": "GATE", "count": 0 }
  ],
  "rules": {
    "purity": false,
    "sync": true,
    "syncWindow": 0,
    "syncTargets": ["R", "G"],
    "maxBounces": 64,
    "maxTicks": 360
  }
}
